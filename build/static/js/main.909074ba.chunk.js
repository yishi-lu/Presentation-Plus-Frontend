(this["webpackJsonppresentationapp-front-end"]=this["webpackJsonppresentationapp-front-end"]||[]).push([[0],{132:function(e,t,a){e.exports={test:"main_test__39iqc",error_message:"main_error_message__3Opag",nav_button:"main_nav_button__2wCwN",post_cover_img:"main_post_cover_img__3WlTa",title_image:"main_title_image__3Be0M",comment_portrait:"main_comment_portrait__BIpzV",subcomment_portrait:"main_subcomment_portrait__1CT0Y",text_wrap:"main_text_wrap__22acH",liked_style:"main_liked_style__3-fmt",hover_pointer:"main_hover_pointer__3RO19",collected_post_img:"main_collected_post_img__2e4Fm",dropbtn:"main_dropbtn__2BPZO",dropdown:"main_dropdown__-213z",dropdown_content:"main_dropdown_content__1xNB5",dropdown_content_btn:"main_dropdown_content_btn__2wEna",post_cover_div:"main_post_cover_div__29AeZ",post_cover_content:"main_post_cover_content__37zGb",post_description:"main_post_description__4APr6"}},133:function(e,t,a){e.exports=a(304)},186:function(e,t){},303:function(e,t,a){},304:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(39),r=a(8),o=a(9),i=a(12),c=a(10),m=a(11),p=a(5),u=a(6),d=a.n(u),h=a(311),_=a(131),E=a(312),g=a(13),f=a(27),v=a(43),b=a(20),y=a(306),C=a(307),j=a(122),w=a(310),k=a(123),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={email:"",password:"",loginError:""},a.loginUser=a.loginUser.bind(Object(p.a)(a)),a.changeInput=a.changeInput.bind(Object(p.a)(a)),console.log(a.props),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"loginUser",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,password:this.state.password};console.log(a),d.a.post(this.props.apiUrl+"/api/auth/login",a,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),t.setState({loginError:""}),localStorage.setItem("user",JSON.stringify(e.data.user)),console.log(t.state),window.location.assign("/")})).catch((function(e){console.log("ERRRR:: ",e.response.data),t.setState({loginError:e.response.data.message})}))}},{key:"changeInput",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(b.a)({},a,n))}},{key:"render",value:function(){return s.a.createElement(y.a,null,s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement(j.a,{sm:!0,md:6},s.a.createElement(w.a,null,s.a.createElement("div",null,s.a.createElement("h2",null,"Sing In")),s.a.createElement("br",null),s.a.createElement(w.a.Group,{controlId:"formBasicEmail"},s.a.createElement(w.a.Label,null,"Email address"),s.a.createElement(w.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:this.changeInput}),s.a.createElement(w.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),s.a.createElement(w.a.Group,{controlId:"formBasicPassword"},s.a.createElement(w.a.Label,null,"Password"),s.a.createElement(w.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:this.changeInput})),""!=this.state.loginError?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.loginError):"",s.a.createElement(k.a,{variant:"primary",type:"submit",onClick:this.loginUser},"Submit"),s.a.createElement("div",null,s.a.createElement("label",null,"No account? "),s.a.createElement("a",{href:"register"},"Signup"))))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={email:"",username:"",password:"",confirm_password:"",registerError:{email:"",name:"",password:"",comfirmed_password:""}},a.registerUser=a.registerUser.bind(Object(p.a)(a)),a.changeInput=a.changeInput.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"registerUser",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,name:this.state.username,password:this.state.password,comfirmed_password:this.state.confirm_password};console.log(a),d.a.post(this.props.apiUrl+"/api/auth/register",a,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),t.setState({registerError:{email:"",name:"",password:"",comfirmed_password:""}}),localStorage.setItem("user",JSON.stringify(e.data.user)),console.log(t.state),window.location.assign("/")})).catch((function(e){console.log("ERRRR:: ",e.response.data.errors),t.setState({registerError:e.response.data.errors}),console.log(t.state)}))}},{key:"changeInput",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(b.a)({},a,n))}},{key:"render",value:function(){return s.a.createElement(y.a,null,s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement(j.a,{sm:!0,md:6},s.a.createElement(w.a,null,s.a.createElement("div",null,s.a.createElement("h2",null,"Register New Account")),s.a.createElement("br",null),s.a.createElement(w.a.Group,{controlId:"formBasicEmail"},s.a.createElement(w.a.Label,null,"Email address"),s.a.createElement(w.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:this.changeInput})),""!=this.state.registerError.email?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.registerError.email):"",s.a.createElement(w.a.Group,{controlId:"formUsername"},s.a.createElement(w.a.Label,null,"Username"),s.a.createElement(w.a.Control,{placeholder:"Enter username",name:"username",onChange:this.changeInput})),""!=this.state.registerError.name?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.registerError.name):"",s.a.createElement(w.a.Group,{controlId:"formBasicPassword"},s.a.createElement(w.a.Label,null,"Password"),s.a.createElement(w.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:this.changeInput})),""!=this.state.registerError.password?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.registerError.password):"",s.a.createElement(w.a.Group,{controlId:"formBasicPasswordConfirm"},s.a.createElement(w.a.Label,null,"Confirm Password"),s.a.createElement(w.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirm_password",onChange:this.changeInput})),""!=this.state.registerError.comfirmed_password?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.registerError.comfirmed_password):"",s.a.createElement(k.a,{variant:"primary",type:"submit",onClick:this.registerUser},"Register"),s.a.createElement("div",null,s.a.createElement("label",null,"Has account? "),s.a.createElement("a",{href:"login"},"Login"))))))}}]),t}(n.Component),I=a(308),R=a(309),U=function(e){function t(e){return Object(r.a)(this,t),Object(i.a)(this,Object(c.a)(t).call(this,e))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e=[],t=this.props.data_info.last_page,a="main_comment"===this.props.type?"?mainCommentPage=":"?page=",n=1;n<=t;n++)e.push(s.a.createElement(R.a.Item,{key:n,name:this.props.data_info.path+a+n,onClick:this.props.pagination},"Page: ",n));return s.a.createElement("nav",{"aria-label":"Page navigation"},s.a.createElement("ul",{className:"pagination"},s.a.createElement("li",{className:"page-item"},s.a.createElement("a",{className:this.props.styles.page_link+" page-link",name:this.props.data_info.first_page_url,onClick:this.props.pagination},"First")),s.a.createElement("li",{className:"page-item"},1==this.props.data_info.current_page?s.a.createElement("a",{className:"page-link"},"Prev"):s.a.createElement("a",{className:this.props.styles.page_link+" page-link",name:this.props.data_info.prev_page_url,onClick:this.props.pagination},"Prev")),s.a.createElement(R.a,null,s.a.createElement(R.a.Toggle,{variant:"secondary",id:"dropdown-basic"},"Page: ",this.props.data_info.current_page),s.a.createElement(R.a.Menu,null,e)),s.a.createElement("li",{className:"page-item"},this.props.data_info.current_page==t?s.a.createElement("a",{className:"page-link"},"Next"):s.a.createElement("a",{className:this.props.styles.page_link+" page-link",name:this.props.data_info.next_page_url,onClick:this.props.pagination},"Next")),s.a.createElement("li",{className:"page-item"},s.a.createElement("a",{className:this.props.styles.page_link+" page-link",name:this.props.data_info.last_page_url,onClick:this.props.pagination},"Last"))))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={posts:[],loaded_data:!1},a.all_post_pagination=a.all_post_pagination.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get(this.props.apiUrl+"/api/post/all",{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),e.setState({posts:t.data.success,loaded_data:!0})})).catch((function(e){console.log("ERRRR:: ",e)}))}},{key:"all_post_pagination",value:function(e){var t=this;console.log(e.target);var a=e.target.getAttribute("name");d.a.get(a,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),t.setState({posts:e.data.success,loaded_data:!0})})).catch((function(e){console.log("ERRRR:: ",e)}))}},{key:"render",value:function(){var e=this;console.log(this.props.urlInfo);this.props.urlInfo.match.path,this.props.urlInfo.match.url;console.log(this.state);var t=[];return this.state.loaded_data?this.state.posts.data.forEach((function(a,n){var l=a.image_url.includes("post_cover/")?e.props.apiUrl+"/storage/"+a.image_url:a.image_url;t.push(s.a.createElement(j.a,{sm:!0,md:"3",className:"pb-2",key:n},s.a.createElement(y.a,null,s.a.createElement(C.a,null,s.a.createElement(g.Link,{to:"/post/detail/"+a.id},s.a.createElement("div",{className:e.props.styles.post_cover_div},s.a.createElement("div",{className:e.props.styles.post_cover_content},s.a.createElement("span",null,s.a.createElement("i",{className:"far fa-eye"})," ",a.viewed),"   ",s.a.createElement("span",null,s.a.createElement("i",{className:"fas fa-thumbs-up"})," ",a.count_thumbed)),s.a.createElement(I.a,{src:l,thumbnail:!0,className:e.props.styles.post_cover_img})))),s.a.createElement(C.a,null,s.a.createElement(y.a,null,s.a.createElement(C.a,null,s.a.createElement("div",null,s.a.createElement(g.Link,{to:"/post/detail/"+a.id},a.title))),s.a.createElement(C.a,null,s.a.createElement("div",null,s.a.createElement(g.Link,{to:"/profile/detail/"+a.user_id},a.name))))))))})):t=[],s.a.createElement(y.a,null,s.a.createElement(C.a,{className:"justify-content-md-center"},t),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement(U,{data_info:this.state.posts,pagination:this.all_post_pagination,styles:this.props.styles})),s.a.createElement("br",null),s.a.createElement("br",null))}}]),t}(n.Component),T=a(18),L=a(128),P=a.n(L),F=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={create_comment:!1,title:"",content:"",errors:{title:"",content:""}},a.show_comment_frame=a.show_comment_frame.bind(Object(p.a)(a)),a.changeInput=a.changeInput.bind(Object(p.a)(a)),a.create_subcomment=a.create_subcomment.bind(Object(p.a)(a)),a.post_subcomments_pagination=a.post_subcomments_pagination.bind(Object(p.a)(a)),a.like_comment_initial=a.like_comment_initial.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"like_comment_initial",value:function(e){this.props.like_comment(e.target.id)}},{key:"post_subcomments_pagination",value:function(e){}},{key:"create_subcomment",value:function(){this.props.createComment(this.state.title,this.state.content,this.props.threadID),this.setState({create_comment:!1,title:"",content:""})}},{key:"show_comment_frame",value:function(){this.setState((function(e){return{create_comment:!e.create_comment}}))}},{key:"changeInput",value:function(e){var t=e.target,a=t.name,n=t.value;console.log(e.target),this.setState(Object(b.a)({},a,n))}},{key:"render",value:function(){var e=this,t=[],a=s.a.createElement(C.a,{className:"mb-5 mt-5"},s.a.createElement(w.a,{className:"w-100"},s.a.createElement(w.a.Group,{controlId:"formBasicTitle"},s.a.createElement(w.a.Control,{name:"title",onChange:this.changeInput,value:this.state.title,placeholder:"Title"})),""!=this.state.errors.title?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.errors.title):"",s.a.createElement(w.a.Group,{controlId:"formBasicDescription"},s.a.createElement(w.a.Control,{placeholder:"comment...",name:"content",as:"textarea",rows:"3",onChange:this.changeInput,value:this.state.content})),""!=this.state.errors.content?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.errors.content):""),s.a.createElement("div",null,s.a.createElement(k.a,{variant:"primary",type:"submit",onClick:this.create_subcomment},"Post Comment")));return this.props.subcomments.forEach((function(a,n){var l=a.portrait.includes("profile_portrait/")?e.props.apiUrl+"/storage/"+a.portrait:a.portrait;t.push(s.a.createElement(C.a,{key:n,className:"mt-4"},s.a.createElement(j.a,{sm:!0,md:2},s.a.createElement(g.Link,{to:"/profile/detail/"+a.user_id},s.a.createElement(I.a,{src:l,className:e.props.styles.subcomment_portrait}))),s.a.createElement(j.a,{sm:!0,md:10},s.a.createElement("div",null,s.a.createElement(g.Link,{to:"/profile/detail/"+a.user_id},a.name)),s.a.createElement("div",{className:e.props.styles.text_wrap},a.title),s.a.createElement("div",{className:e.props.styles.text_wrap},a.content),s.a.createElement("div",null,s.a.createElement("span",{className:"mr-2"},a.created_at),s.a.createElement("span",{className:"mr-2"},s.a.createElement("i",{className:a.is_liked?e.props.styles.liked_style+" "+e.props.styles.hover_pointer+" fas fa-thumbs-up":e.props.styles.hover_pointer+" fas fa-thumbs-up",id:a.id,onClick:e.like_comment_initial}),a.liked),s.a.createElement("span",{className:"mr-5"},s.a.createElement("i",{className:e.props.styles.comment_post+" fas fa-comment-dots text-primary",onClick:e.show_comment_frame}))))))})),s.a.createElement(y.a,null,t,this.state.create_comment?a:s.a.createElement("span",null))}}]),t}(n.Component),x=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(i.a)(this,Object(c.a)(t).call(this,e));var n=localStorage.getItem("user");return null!=n&&void 0!=n&&""!=n&&(n=JSON.parse(n)),a.state={comments:{},auth_user:n,loaded_data:!1,title:"",content:"",sub_title:"",sub_content:"",errors:{title:"",content:""},suberrors:{sub_title:"",sub_content:""},create_sub:!1},a.post_comments_pagination=a.post_comments_pagination.bind(Object(p.a)(a)),a.changeInput=a.changeInput.bind(Object(p.a)(a)),a.createComment=a.createComment.bind(Object(p.a)(a)),a.show_subcomment_form=a.show_subcomment_form.bind(Object(p.a)(a)),a.create_comment_initial=a.create_comment_initial.bind(Object(p.a)(a)),a.like_comment=a.like_comment.bind(Object(p.a)(a)),a.like_comment_initial=a.like_comment_initial.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"like_comment_initial",value:function(e){this.like_comment(e.target.id)}},{key:"like_comment",value:function(e){var t=this;if(null!=this.state.auth_user&&""!=this.state.auth_user){var a=this.props.apiUrl+"/api/comment/thumb",n={comment_id:e};d.a.post(a,n,{headers:{"Content-Type":"application/json"}}).then((function(e){var a=t.props.postID,n=t.props.apiUrl+"/api/comment/postComments/"+a;d.a.get(n,{headers:{"Content-Type":"application/json"}}).then((function(e){e.data.success.data.map((function(e){return e.addSub=!1})),t.setState({comments:e.data.success,loaded_data:!0,title:"",content:""})})).catch((function(e){console.log("ERRRR:: ",e)}))})).catch((function(e){console.log("ERRRR:: ",e.response.data.errors),t.setState({errors:e.response.data.errors})}))}else alert("You must login to thumb a comment!")}},{key:"create_comment_initial",value:function(e){""==e.target.id?(this.createComment(this.state.title,this.state.content),this.setState({title:"",content:"",errors:{title:"",content:""}})):(this.createComment(this.state.sub_title,this.state.sub_content,e.target.id),this.setState({sub_title:"",sub_content:"",suberrors:{sub_title:"",sub_content:""}}))}},{key:"createComment",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-1";if(null!=this.state.auth_user&&""!=this.state.auth_user){var s,l=this.props.apiUrl+"/api/comment/create",r={headers:{"Content-Type":"application/json"}};s="-1"==t&&"-1"==a&&"-1"==n?{post_id:this.props.postID,title:t,content:a}:{post_id:this.props.postID,title:t,content:a,comment_id:n},d.a.post(l,s,r).then((function(t){var a=e.props.postID,n=e.props.apiUrl+"/api/comment/postComments/"+a;d.a.get(n,{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.success.data.map((function(e){return e.addSub=!1})),e.setState({comments:t.data.success,loaded_data:!0,title:"",content:""})})).catch((function(e){console.log("ERRRR:: ",e)}))})).catch((function(t){console.log("ERRRR:: ",t.response.data.errors),e.setState({errors:t.response.data.errors})}))}else alert("You must login to post comments!")}},{key:"show_subcomment_form",value:function(e){if(null!=this.state.auth_user&&""!=this.state.auth_user){var t=e.target.id;this.setState((function(e){var a=Object(T.a)({},e.comments),n=a.data;return n=n.map((function(e){return e.id==t&&(e.addSub=!e.addSub),e})),a.data=n,{comments:a}}))}else alert("You must login to post comments!")}},{key:"changeInput",value:function(e){var t=e.target,a=t.name,n=t.value;console.log(e.target),this.setState(Object(b.a)({},a,n))}},{key:"post_comments_pagination",value:function(e){var t=this,a=e.target.getAttribute("name");console.log(a);d.a.get(a,{headers:{"Content-Type":"application/json"}}).then((function(e){Array.isArray(e.data.success.data)||(e.data.success.data=Object.keys(e.data.success.data).map((function(t){return e.data.success.data[t]}))),e.data.success.data.map((function(e){return e.addSub=!1})),t.setState({comments:e.data.success,loaded_data:!0})})).catch((function(e){console.log("ERRRR:: ",e)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.postID,a=this.props.apiUrl+"/api/comment/postComments/"+t;d.a.get(a,{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.success.data.map((function(e){return e.addSub=!1})),e.setState({comments:t.data.success,loaded_data:!0})})).catch((function(e){console.log("ERRRR:: ",e)}))}},{key:"render",value:function(){var e=this,t=[],a=s.a.createElement(C.a,{className:"mb-5"},s.a.createElement(w.a,{className:"w-100"},s.a.createElement(w.a.Group,{controlId:"formBasicTitle"},s.a.createElement(w.a.Control,{name:"title",onChange:this.changeInput,value:this.state.title,placeholder:"Title"})),""!=this.state.errors.title?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.errors.title):"",s.a.createElement(w.a.Group,{controlId:"formBasicDescription"},s.a.createElement(w.a.Control,{placeholder:"comment...",name:"content",as:"textarea",rows:"3",onChange:this.changeInput,value:this.state.content})),""!=this.state.errors.content?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.errors.content):""),s.a.createElement("div",null,s.a.createElement(k.a,{variant:"primary",type:"submit",onClick:this.create_comment_initial},"Post Comment")));return null!=this.state.auth_user&&void 0!=this.state.auth_user&&""!=this.state.auth_user||(a=s.a.createElement(C.a,null)),this.state.loaded_data?this.state.comments.data.length>0?(this.state.comments.data.forEach((function(a,n){var l=a.portrait.includes("profile_portrait/")?e.props.apiUrl+"/storage/"+a.portrait:a.portrait;t.push(s.a.createElement(C.a,{key:n,className:"mt-4 border-bottom pb-3"},s.a.createElement(j.a,{sm:!0,md:2},s.a.createElement(g.Link,{to:"/profile/detail/"+a.user_id},s.a.createElement(I.a,{src:l,className:e.props.styles.comment_portrait}))),s.a.createElement(j.a,{sm:!0,md:10},s.a.createElement("div",null,s.a.createElement(g.Link,{to:"/profile/detail/"+a.user_id},a.name)),s.a.createElement("div",{className:e.props.styles.text_wrap},a.title),s.a.createElement("div",{className:e.props.styles.text_wrap},a.content),s.a.createElement("div",null,s.a.createElement("span",{className:"mr-2"},a.created_at),s.a.createElement("span",{className:"mr-2"},s.a.createElement("i",{className:a.is_liked?e.props.styles.liked_style+" "+e.props.styles.hover_pointer+" fas fa-thumbs-up":e.props.styles.hover_pointer+" fas fa-thumbs-up",id:a.id,onClick:e.like_comment_initial}),a.liked),s.a.createElement("span",{className:"mr-5"},s.a.createElement("i",{className:e.props.styles.hover_pointer+" fas fa-comment-dots text-primary",id:a.id,onClick:e.show_subcomment_form}))),a.addSub?s.a.createElement(C.a,{className:"mb-5 mt-5"},s.a.createElement(w.a,{className:"w-100"},s.a.createElement(w.a.Group,{controlId:"formBasicTitle"},s.a.createElement(w.a.Control,{name:"sub_title",onChange:e.changeInput,value:e.state.sub_title,placeholder:"Title"})),""!=e.state.errors.sub_title?s.a.createElement("div",{className:e.props.styles.error_message+" mt-2 mb-3"},e.state.errors.sub_title):"",s.a.createElement(w.a.Group,{controlId:"formBasicDescription"},s.a.createElement(w.a.Control,{placeholder:"comment...",name:"sub_content",as:"textarea",rows:"3",onChange:e.changeInput,value:e.state.sub_content})),""!=e.state.errors.sub_content?s.a.createElement("div",{className:e.props.styles.error_message+" mt-2 mb-3"},e.state.errors.sub_content):""),s.a.createElement("div",null,s.a.createElement(k.a,{variant:"primary",type:"submit",id:a.id,onClick:e.create_comment_initial},"Post Comment"))):s.a.createElement("span",null),a.sub_comments.length>0?s.a.createElement(F,{like_comment:e.like_comment,subcomments:a.sub_comments,styles:e.props.styles,threadID:a.id,createComment:e.createComment,apiUrl:e.props.apiUrl}):s.a.createElement("span",null))))})),s.a.createElement(y.a,null,t,s.a.createElement(C.a,{className:"mt-5 mb-3"},s.a.createElement(U,{data_info:this.state.comments,pagination:this.post_comments_pagination,styles:this.props.styles,type:"main_comment"})),a)):s.a.createElement(y.a,null,s.a.createElement(C.a,{className:"mt-5 mb-5"},"There is no comments"),a):s.a.createElement("div",null,"In Loading...")}}]),t}(n.Component),D=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(i.a)(this,Object(c.a)(t).call(this,e));var n=localStorage.getItem("user");return null!=n&&void 0!=n&&""!=n&&(n=JSON.parse(n)),a.state={post_detail:{},auth_user:n,loaded_data:!1},a.collectPost=a.collectPost.bind(Object(p.a)(a)),a.thumbPost=a.thumbPost.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.urlInfo.match.params.id;d.a.get(this.props.apiUrl+"/api/post/detail/"+t,{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),e.setState({post_detail:t.data.success,loaded_data:!0},(function(){var e=this,t=this.state.post_detail.image_url.includes("post_cover/")?this.props.apiUrl+"/storage/"+this.state.post_detail.image_url:this.state.post_detail.image_url;this.setState((function(a){var n=document.createElement("div"),s=Object(T.a)({},a.post_detail),l=s.content;n.innerHTML=l;for(var r=n.getElementsByTagName("img"),o=s.post_content_image,i=0;i<r.length&&i<o.length;i++)r[i].src=e.props.apiUrl+"/storage/"+o[i].content_image,r[i].classList.add("content_images");return s.content=n.innerHTML,s.image_url=t,{post_detail:s}}))}))})).catch((function(e){console.log("ERRRR:: ",e)}))}},{key:"collectPost",value:function(e){var t=this,a={post_id:e.target.id};d.a.post(this.props.apiUrl+"/api/post/collect",a,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),t.setState((function(e){var t=Object(T.a)({},e.post_detail);return 0==t.is_collected?t.is_collected=1:t.is_collected=0,{post_detail:t}}),(function(){this.props.update_nav_fun()}))})).catch((function(e){console.log("ERRRR:: ",e)}))}},{key:"thumbPost",value:function(e){var t=this,a={post_id:e.target.id};d.a.post(this.props.apiUrl+"/api/post/thumb",a,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),t.setState((function(e){var t=Object(T.a)({},e.post_detail);return 0==t.is_thumbed?t.is_thumbed=1:t.is_thumbed=0,{post_detail:t}}))})).catch((function(e){console.log("ERRRR:: ",e)}))}},{key:"render",value:function(){return this.state.loaded_data?s.a.createElement(y.a,null,s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement("div",null,s.a.createElement("img",{className:this.props.styles.title_image,src:this.state.post_detail.image_url}))),s.a.createElement(C.a,null,s.a.createElement("br",null)),s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement("div",null,s.a.createElement("h1",null,this.state.post_detail.title))),s.a.createElement(C.a,null,s.a.createElement("br",null)),s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement("div",null,s.a.createElement("span",{className:"mr-3"},s.a.createElement(g.Link,{to:"/profile/detail/"+this.state.post_detail.user_id},"Author: ",this.state.post_detail.author_name)),s.a.createElement("span",{className:"ml-3"},"Date: ",this.state.post_detail.created_at),null!=this.state.auth_user&&this.state.auth_user.id==this.state.post_detail.user_id?s.a.createElement("span",{className:"ml-3"},s.a.createElement(g.Link,{to:"/post/edit/"+this.state.post_detail.id},s.a.createElement("i",{className:"fas fa-edit"}))):s.a.createElement("span",null),null!=this.state.auth_user?this.state.post_detail.is_collected>0?s.a.createElement("span",{className:this.props.styles.hover_pointer+" ml-3"},s.a.createElement("i",{style:{color:"#007bff"},className:"fas fa-star",id:this.state.post_detail.id,onClick:this.collectPost})):s.a.createElement("span",{className:this.props.styles.hover_pointer+" ml-3"},s.a.createElement("i",{className:"far fa-star",id:this.state.post_detail.id,onClick:this.collectPost})):s.a.createElement("span",null),null!=this.state.auth_user?this.state.post_detail.is_thumbed>0?s.a.createElement("span",{className:this.props.styles.hover_pointer+" ml-3"},s.a.createElement("i",{style:{color:"#007bff"},className:"fas fa-thumbs-up",id:this.state.post_detail.id,onClick:this.thumbPost})):s.a.createElement("span",{className:this.props.styles.hover_pointer+" ml-3"},s.a.createElement("i",{className:"far fa-thumbs-up",id:this.state.post_detail.id,onClick:this.thumbPost})):s.a.createElement("span",null))),s.a.createElement(C.a,null,s.a.createElement("br",null)),s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement("div",{className:this.props.styles.post_description},this.state.post_detail.description)),s.a.createElement(C.a,null,s.a.createElement("br",null)),s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement("div",null,P()(this.state.post_detail.content))),s.a.createElement(C.a,null,s.a.createElement("br",null)),s.a.createElement(C.a,{className:"border-bottom"},s.a.createElement("br",null)),s.a.createElement(C.a,null,s.a.createElement(x,{postID:this.props.urlInfo.match.params.id,styles:this.props.styles,apiUrl:this.props.apiUrl}))):s.a.createElement(y.a,null,"In Loading...")}}]),t}(n.Component),G=a(129),B=a.n(G),A=(a(303),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]]},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"],clipboard:{matchVisual:!1}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"text-editor"},s.a.createElement(B.a,{value:this.props.value,onChange:this.props.changeContent,modules:this.state.modules,formats:this.state.formats,theme:"snow"}))}}]),t}(n.Component));var M=function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],s=atob(a[1]),l=s.length,r=new Uint8Array(l);l--;)r[l]=s.charCodeAt(l);return new File([r],t+"."+n.split("/")[1],{type:n})},z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={post_type:{normal:1,slides:2,video:3,comic:4},title:"",description:"",cover:"",content:"TEXT...",contentImage:[],type:1,visibility:1,cover_preview:"",error_msg:""},a.changeInput=a.changeInput.bind(Object(p.a)(a)),a.create_post=a.create_post.bind(Object(p.a)(a)),a.cancel_creation=a.cancel_creation.bind(Object(p.a)(a)),a.uploadFile=a.uploadFile.bind(Object(p.a)(a)),a.handleContentChange=a.handleContentChange.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"changeInput",value:function(e){var t=e.target,a=t.name,n=t.value;console.log(e.target.value),this.setState(Object(b.a)({},a,n)),console.log(this.state)}},{key:"uploadFile",value:function(e){var t=this;e.preventDefault();var a=new FileReader,n=e.target.files[0];console.log(n),a.onloadend=function(){t.setState({cover:n,cover_preview:a.result}),console.log(t.state)},a.readAsDataURL(n)}},{key:"handleContentChange",value:function(e){this.setState({content:e}),console.log(this.state)}},{key:"create_post",value:function(e){e.preventDefault();var t={headers:{"Content-Type":"application/json"}};this.setState((function(e){var t=document.createElement("div"),a=e.content;t.innerHTML=a;for(var n=t.getElementsByTagName("img"),s=e.contentImage,l=0;l<n.length;l++){var r=M(n[l].src,"content_image"+l);s.push(r),n[l].src="image"+l}return console.log(t),{contentImage:s,content:(new XMLSerializer).serializeToString(t)}}),(function(){console.log(this.state.content);var e=new FormData;e.append("title",this.state.title),e.append("description",this.state.description),e.append("image_url",this.state.cover),e.append("content",this.state.content),this.state.contentImage.forEach((function(t){e.append("contentImage[]",t)})),e.append("type",this.state.type),e.append("visibility",this.state.visibility),d.a.post(this.props.apiUrl+"/api/post/create",e,t).then((function(e){console.log(e),alert("Post is successfully created!"),window.location.href="/#post/detail/"+e.data.success.id})).catch((function(e){console.log("ERRRR:: ",e)}))}))}},{key:"cancel_creation",value:function(){this.setState({title:"",description:"",cover:"",content:"",type:1,visibility:1,cover_preview:"",error_msg:""})}},{key:"render",value:function(){return s.a.createElement(y.a,null,s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement(j.a,{sm:!0,md:10},s.a.createElement(w.a,null,s.a.createElement("div",null,s.a.createElement("h2",null,"Create New Post")),s.a.createElement("br",null),s.a.createElement(w.a.Group,{controlId:"formBasicTitle"},s.a.createElement(w.a.Label,null,"Title"),s.a.createElement(w.a.Control,{name:"title",rows:"3",onChange:this.changeInput,value:this.state.title})),""!=this.state.error_msg.title?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.error_msg.title):"",s.a.createElement(w.a.Group,{controlId:"formBasicDescription"},s.a.createElement(w.a.Label,null,"Description (200 character)"),s.a.createElement(w.a.Control,{name:"description",as:"textarea",rows:"3",onChange:this.changeInput,value:this.state.description})),""!=this.state.error_msg.description?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.error_msg.description):"",s.a.createElement(w.a.Group,{controlId:"formBasicCover"},s.a.createElement(w.a.Label,null,"Post Cover (.gif, .jpg, .jpeg, .png)"),s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text",id:"inputGroupFileAddon01"},"Upload")),s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",accept:".gif,.jpg,.jpeg,.png",name:"cover",onChange:this.uploadFile}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},this.state.cover.name))),s.a.createElement("br",null),""!=this.state.cover_preview?s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement(j.a,{style:{textAlign:"center"}},s.a.createElement(I.a,{src:this.state.cover_preview,thumbnail:!0,width:"300",height:"300"}))):s.a.createElement("span",null)),s.a.createElement("br",null),s.a.createElement(w.a.Group,{controlId:"basicFormVisibility"},s.a.createElement(w.a.Label,null,"Post Visibility"),s.a.createElement(w.a.Control,{name:"visibility",as:"select",onChange:this.changeInput,value:this.state.visibility},s.a.createElement("option",{value:"0"},"Private"),s.a.createElement("option",{value:"1"},"Public"),s.a.createElement("option",{value:"2"},"Following"))),s.a.createElement(w.a.Group,{controlId:"basicFormType"},s.a.createElement(w.a.Label,null,"Post Type"),s.a.createElement(w.a.Control,{name:"type",as:"select",onChange:this.changeInput,value:this.state.type},s.a.createElement("option",{value:"1"},"Normal"),s.a.createElement("option",{value:"2"},"Slides"),s.a.createElement("option",{value:"3"},"Video"),s.a.createElement("option",{value:"4"},"Comic"))),s.a.createElement(w.a.Group,{controlId:"basicFormContent"},1==this.state.type?s.a.createElement(A,{name:"content",value:this.state.content,changeContent:this.handleContentChange}):s.a.createElement("span",null)),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(C.a,null,s.a.createElement(j.a,{sm:!0,md:2},s.a.createElement(k.a,{variant:"primary",type:"submit",onClick:this.create_post},"Create")),s.a.createElement(j.a,{sm:!0,md:3},s.a.createElement(k.a,{variant:"danger",type:"submit",onClick:this.cancel_creation},"Cancel")))))),s.a.createElement("br",null),s.a.createElement("br",null))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={post_type:{normal:1,slides:2,video:3,comic:4},post_detail:{},post_old_data:{},cover_preview:"",cover:"",contentImage:[],originalImage:[],error_msg:""},a.changeInput=a.changeInput.bind(Object(p.a)(a)),a.update_post=a.update_post.bind(Object(p.a)(a)),a.cancel_edit=a.cancel_edit.bind(Object(p.a)(a)),a.uploadFile=a.uploadFile.bind(Object(p.a)(a)),a.handleContentChange=a.handleContentChange.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.urlInfo.match.params.id;d.a.get(this.props.apiUrl+"/api/post/detail/"+t,{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),e.setState({post_detail:t.data.success,loaded_data:!0},(function(){var e=this,t=this.state.post_detail.image_url.includes("post_cover/")?this.props.apiUrl+"/storage/"+this.state.post_detail.image_url:this.state.post_detail.image_url;this.setState((function(a){var n=document.createElement("div"),s=Object(T.a)({},a.post_detail),l=s.content;console.log(l),n.innerHTML=l;var r=n.getElementsByTagName("img");console.log(r);for(var o=s.post_content_image,i=0;i<r.length&&i<o.length;i++)r[i].src=e.props.apiUrl+"/storage/"+o[i].content_image;return s.content=n.innerHTML,s.image_url=t,{post_detail:s,post_old_data:s,cover_preview:t}}))}))})).catch((function(e){console.log("ERRRR:: ",e),window.location.href="/"}))}},{key:"changeInput",value:function(e){var t=e.target,a=t.name,n=t.value;console.log(e.target.value),this.setState((function(e){var t=Object(T.a)({},e.post_detail);return t[a]=n,{post_detail:t}})),console.log(this.state)}},{key:"uploadFile",value:function(e){var t=this;e.preventDefault();var a=new FileReader,n=e.target.files[0];console.log(n),a.onloadend=function(){t.setState({cover:n,cover_preview:a.result}),console.log(t.state)},a.readAsDataURL(n)}},{key:"handleContentChange",value:function(e){this.setState((function(t){var a=Object(T.a)({},t.post_detail);return a.content=e,{post_detail:a}})),console.log(this.state)}},{key:"update_post",value:function(e){e.preventDefault();var t={headers:{"Content-Type":"application/json"}};this.setState((function(e){var t=document.createElement("div"),a=Object(T.a)({},e.post_detail),n=e.contentImage,s=e.originalImage,l=a.content;t.innerHTML=l;for(var r=t.getElementsByTagName("img"),o=0;o<r.length;o++){if(r[o].src.includes("post_content_image/"))s.push(r[o].src.split("storage/")[1]+"###"+o);else{var i=M(r[o].src,"content_image"+o+"###"+o);n.push(i)}r[o].src="image"+o}return a.content=(new XMLSerializer).serializeToString(t),console.log(t),{contentImage:n,post_detail:a}}),(function(){var e=this;console.log(this.state);var a=new FormData;a.append("post_id",this.state.post_detail.id),a.append("title",this.state.post_detail.title),a.append("description",this.state.post_detail.description),a.append("image_url",this.state.cover),a.append("content",this.state.post_detail.content),this.state.contentImage.forEach((function(e){a.append("contentImage[]",e)})),this.state.originalImage.forEach((function(e){a.append("originalImage[]",e)})),a.append("type",this.state.post_detail.type),a.append("visibility",this.state.post_detail.visibility),d.a.post(this.props.apiUrl+"/api/post/edit",a,t).then((function(t){console.log(t),alert("Post is successfully updated!"),window.location.href="/#post/detail/"+e.state.post_detail.id})).catch((function(e){console.log("ERRRR:: ",e),alert("Unable to update the post, please try again later or contact admin"),window.location.href="/"}))}))}},{key:"cancel_edit",value:function(e){e.preventDefault(),this.setState({post_detail:this.state.post_old_data,cover_preview:this.state.post_old_data.image_url,cover:""})}},{key:"render",value:function(){return console.log(this.state.post_detail),s.a.createElement(y.a,null,s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement(j.a,{sm:!0,md:10},s.a.createElement(w.a,null,s.a.createElement("div",null,s.a.createElement("h2",null,"Edit Post")),s.a.createElement("br",null),s.a.createElement(w.a.Group,{controlId:"formBasicTitle"},s.a.createElement(w.a.Label,null,"Title"),s.a.createElement(w.a.Control,{name:"title",as:"textarea",rows:"3",onChange:this.changeInput,value:this.state.post_detail.title})),""!=this.state.error_msg.title?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.error_msg.title):"",s.a.createElement(w.a.Group,{controlId:"formBasicDescription"},s.a.createElement(w.a.Label,null,"Description (200 character)"),s.a.createElement(w.a.Control,{name:"description",as:"textarea",rows:"3",onChange:this.changeInput,value:null==this.state.post_detail.description?"":this.state.post_detail.description})),""!=this.state.error_msg.description?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.error_msg.description):"",s.a.createElement(w.a.Group,{controlId:"formBasicCover"},s.a.createElement(w.a.Label,null,"Post Cover (.gif, .jpg, .jpeg, .png)"),s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text",id:"inputGroupFileAddon01"},"Upload")),s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",accept:".gif,.jpg,.jpeg,.png",name:"cover",onChange:this.uploadFile}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},this.state.cover.name))),s.a.createElement("br",null),""!=this.state.cover_preview?s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement(j.a,{style:{textAlign:"center"}},s.a.createElement(I.a,{src:this.state.cover_preview,thumbnail:!0,width:"300",height:"300"}))):s.a.createElement("span",null)),s.a.createElement("br",null),s.a.createElement(w.a.Group,{controlId:"basicFormVisibility"},s.a.createElement(w.a.Label,null,"Post Visibility"),s.a.createElement(w.a.Control,{name:"visibility",as:"select",onChange:this.changeInput,value:this.state.post_detail.visibility},s.a.createElement("option",{value:"0"},"Private"),s.a.createElement("option",{value:"1"},"Public"),s.a.createElement("option",{value:"2"},"Following"))),s.a.createElement(w.a.Group,{controlId:"basicFormType"},s.a.createElement(w.a.Label,null,"Post Type"),s.a.createElement(w.a.Control,{name:"type",as:"select",onChange:this.changeInput,value:this.state.post_detail.type},s.a.createElement("option",{value:"1"},"Normal"),s.a.createElement("option",{value:"2"},"Slides"),s.a.createElement("option",{value:"3"},"Video"),s.a.createElement("option",{value:"4"},"Comic"))),s.a.createElement(w.a.Group,{controlId:"basicFormContent"},1==this.state.post_detail.type?s.a.createElement(A,{name:"content",value:this.state.post_detail.content,changeContent:this.handleContentChange}):s.a.createElement("span",null)),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(C.a,null,s.a.createElement(j.a,{sm:!0,md:2},s.a.createElement(k.a,{variant:"primary",type:"submit",onClick:this.update_post},"Update")),s.a.createElement(j.a,{sm:!0,md:3},s.a.createElement(k.a,{variant:"danger",type:"submit",onClick:this.cancel_edit},"Cancel")))))),s.a.createElement("br",null),s.a.createElement("br",null))}}]),t}(n.Component),V=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(i.a)(this,Object(c.a)(t).call(this,e));var n=localStorage.getItem("user");return null!=n&&void 0!=n&&""!=n&&(n=JSON.parse(n)),a.state={user_info:"",posts:[],loaded_data:!1,auth_user:n},a.user_post_pagination=a.user_post_pagination.bind(Object(p.a)(a)),a.follow_unfollow=a.follow_unfollow.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"follow_unfollow",value:function(e){var t=this,a=this.props.apiUrl+"/api/profile/follow_unfollow",n={profile_id:this.state.user_info.profile_id};d.a.post(a,n,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(e){console.log(e),t.setState((function(e){var t=Object(T.a)({},e.user_info);return""!=t&&(t.follow=!t.follow),t.follow?t.followerCount++:t.followerCount--,{user_info:t}}))})).catch((function(e){console.log("ERRRR:: ",e),alert("The user does not exists"),window.location.href="/"}))}},{key:"user_post_pagination",value:function(e){var t=this,a=e.target.getAttribute("name"),n={profile_id:this.state.user_info.profile_id,need_post:1};d.a.post(a,n,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(e){console.log(e),t.setState({posts:e.data.posts,loaded_data:!0})})).catch((function(e){console.log("ERRRR:: ",e),alert("The user does not exists"),window.location.href="/"}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.urlInfo.match.params.id;console.log(t);var a={profile_id:t,need_post:1};d.a.post(this.props.apiUrl+"/api/profile/detail",a,{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),e.setState({user_info:t.data.user,posts:t.data.posts,loaded_data:!0}),console.log(e.state)})).catch((function(e){console.log("ERRRR:: ",e),alert("Unable to visit the user profile"),window.location.href="/"}))}},{key:"render",value:function(){var e=this;console.log(this.state);var t=[],a="success",n="Follow",l="";return this.state.loaded_data&&(this.state.user_info.follow&&(a="secondary",n="Unfollow"),l=this.state.user_info.portrait.includes("profile_portrait/")?this.props.apiUrl+"/storage/"+this.state.user_info.portrait:this.state.user_info.portrait,this.state.posts.data.forEach((function(a,n){var l=a.image_url.includes("post_cover/")?e.props.apiUrl+"/storage/"+a.image_url:a.image_url;t.push(s.a.createElement(j.a,{sm:!0,md:3,className:"pb-2",key:n},s.a.createElement(y.a,null,s.a.createElement(C.a,null,s.a.createElement(g.Link,{to:"/post/detail/"+a.id},s.a.createElement("div",{className:e.props.styles.post_cover_div},s.a.createElement("div",{className:e.props.styles.post_cover_content},s.a.createElement("span",null,s.a.createElement("i",{className:"far fa-eye"})," ",a.viewed),"   ",s.a.createElement("span",null,s.a.createElement("i",{className:"fas fa-thumbs-up"})," ",a.count_thumbed)),s.a.createElement(I.a,{src:l,thumbnail:!0,className:e.props.styles.post_cover_img})))),s.a.createElement(C.a,null,s.a.createElement(y.a,null,s.a.createElement(C.a,null,s.a.createElement("div",null,s.a.createElement(g.Link,{to:"/post/detail/"+a.id},a.title))),s.a.createElement(C.a,null,s.a.createElement("div",null,s.a.createElement(g.Link,{to:"/profile/detail/"+a.user_id},a.name))))))))}))),this.state.loaded_data?s.a.createElement(y.a,null,s.a.createElement(C.a,{className:""},s.a.createElement(j.a,{lg:4},s.a.createElement(I.a,{width:"300",height:"300",src:l})),s.a.createElement(j.a,{lg:8},s.a.createElement(C.a,null,s.a.createElement(j.a,null,s.a.createElement("h1",null,this.state.user_info.name))),s.a.createElement(C.a,null,s.a.createElement(j.a,{lg:2},s.a.createElement("h6",null,"Follower: ",this.state.user_info.followerCount)),s.a.createElement(j.a,{lg:2},s.a.createElement("h6",null,"Following: ",this.state.user_info.followingCount)),s.a.createElement(j.a,{lg:2},s.a.createElement("h6",null,"Post: ",this.state.user_info.postCount))),s.a.createElement("br",null),s.a.createElement(C.a,null,s.a.createElement(j.a,null,s.a.createElement("h5",null,"Signagure: ",this.state.user_info.signature))),s.a.createElement("br",null),s.a.createElement(C.a,null,null!=this.state.auth_user&&""!=this.state.auth_user?this.state.auth_user.id!=this.state.user_info.id?s.a.createElement(j.a,{key:"follow_unfollow",lg:3},s.a.createElement(k.a,{variant:a,onClick:this.follow_unfollow},n)):[s.a.createElement(j.a,{key:"edit",lg:1},s.a.createElement(g.Link,{to:"/profile/edit"},s.a.createElement(k.a,{variant:"primary"},"Edit"))),s.a.createElement(j.a,{key:"post",lg:2},s.a.createElement(g.Link,{to:"/post/create"},s.a.createElement(k.a,{variant:"danger"},"Add Post")))]:s.a.createElement("span",null)))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(C.a,null,s.a.createElement(j.a,null,"User Posts:")),s.a.createElement("hr",null),s.a.createElement(C.a,{className:"justify-content-md-center"},t),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement(U,{data_info:this.state.posts,pagination:this.user_post_pagination,styles:this.props.styles,apiUrl:this.props.apiUrl})),s.a.createElement("br",null),s.a.createElement("br",null)):s.a.createElement(y.a,null,"In Loading...")}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={user_info:"",portrait_preview:"",loaded_data:!1,signature:"",portrait:"",visibility:"",error_msg:""},a.uploadFile=a.uploadFile.bind(Object(p.a)(a)),a.changeInput=a.changeInput.bind(Object(p.a)(a)),a.update_profile=a.update_profile.bind(Object(p.a)(a)),a.cancel_update=a.cancel_update.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user.id;console.log(t);var a={profile_id:t,need_post:0};d.a.post(this.props.apiUrl+"/api/profile/detail",a,{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),e.setState({portrait_preview:t.data.user.portrait,user_info:t.data.user,loaded_data:!0,signature:t.data.user.signature,portrait:"",visibility:t.data.user.visibility}),console.log(e.state)})).catch((function(e){console.log("ERRRR:: ",e),alert("Unable to visit the page"),window.location.href="/"}))}},{key:"update_profile",value:function(e){var t=this;e.preventDefault();var a=this.props.apiUrl+"/api/profile/edit",n=new FormData;n.append("signature",this.state.signature),n.append("portrait",this.state.portrait),n.append("visibility",this.state.visibility),d.a.post(a,n,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(e){console.log(e),alert("Updated Successfully!"),window.location.href="/profile/detail/"+t.state.user_info.id})).catch((function(e){console.log("ERRRR:: ",e.response.data),t.setState({error_msg:e.response.data.errors})}))}},{key:"cancel_update",value:function(e){e.preventDefault(),this.setState((function(e){var t=Object(T.a)({},e.user_info);return{signature:t.signature,portrait_preview:t.portrait,portrait:"",visibility:t.visibility}}))}},{key:"changeInput",value:function(e){var t=e.target,a=t.name,n=t.value;console.log(e.target.value),this.setState(Object(b.a)({},a,n)),console.log(this.state)}},{key:"uploadFile",value:function(e){var t=this;e.preventDefault();var a=new FileReader,n=e.target.files[0];console.log(n),a.onloadend=function(){t.setState({portrait:n,portrait_preview:a.result}),console.log(t.state)},a.readAsDataURL(n)}},{key:"render",value:function(){if(this.state.loaded_data){var e="";return e=this.state.portrait_preview.includes("profile_portrait/")?this.props.apiUrl+"/storage/"+this.state.portrait_preview:this.state.portrait_preview,s.a.createElement(y.a,null,s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement(j.a,{sm:!0,md:6},s.a.createElement(w.a,null,s.a.createElement("div",null,s.a.createElement("h2",null,"Edit User Profile")),s.a.createElement("br",null),s.a.createElement(w.a.Group,{controlId:"formBasicPortrait"},s.a.createElement(w.a.Label,null,"Portrait (.gif, .jpg, .jpeg, .png)"),s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text",id:"inputGroupFileAddon01"},"Upload")),s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",accept:".gif,.jpg,.jpeg,.png",name:"portrait",onChange:this.uploadFile}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},this.state.portrait.name))),s.a.createElement("br",null),s.a.createElement(C.a,{className:"justify-content-md-center"},s.a.createElement(I.a,{src:e,thumbnail:!0,width:"300",height:"300"}))),s.a.createElement("br",null),s.a.createElement(w.a.Group,{controlId:"exampleForm.ControlTextarea"},s.a.createElement(w.a.Label,null,"Signature (100 characters)"),s.a.createElement(w.a.Control,{name:"signature",as:"textarea",rows:"3",onChange:this.changeInput,value:this.state.signature})),""!=this.state.error_msg.signature?s.a.createElement("div",{className:this.props.styles.error_message+" mt-2 mb-3"},this.state.error_msg.signature):"",s.a.createElement(w.a.Group,{controlId:"exampleForm.ControlSelect"},s.a.createElement(w.a.Label,null,"Profile Visibility"),s.a.createElement(w.a.Control,{name:"visibility",as:"select",onChange:this.changeInput,value:this.state.visibility},s.a.createElement("option",{value:"0"},"Private"),s.a.createElement("option",{value:"1"},"Public"),s.a.createElement("option",{value:"2"},"Following"))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(C.a,null,s.a.createElement(j.a,{sm:!0,md:2},s.a.createElement(k.a,{variant:"primary",type:"submit",onClick:this.update_profile},"Update")),s.a.createElement(j.a,{sm:!0,md:3},s.a.createElement(k.a,{variant:"danger",type:"submit",onClick:this.cancel_update},"Cancel")))))),s.a.createElement("br",null),s.a.createElement("br",null))}return s.a.createElement(y.a,null,"In Loading...")}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={posts:[],loaded_data:!1},a.reloadPage=a.reloadPage.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.update_nav!=e.update_nav){d.a.get(this.props.apiUrl+"/api/post/collectList",{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),t.setState({posts:e.data.success,loaded_data:!0})})).catch((function(e){console.log("ERRRR:: ",e)}))}}},{key:"componentDidMount",value:function(){var e=this;d.a.get(this.props.apiUrl+"/api/post/collectList",{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),e.setState({posts:t.data.success,loaded_data:!0})})).catch((function(e){console.log("ERRRR:: ",e)}))}},{key:"reloadPage",value:function(e){console.log(e.target.value)}},{key:"render",value:function(){var e=this,t=[];return this.state.loaded_data&&this.state.posts.forEach((function(a,n){var l=a.image_url.includes("post_cover/")?e.props.apiUrl+"/storage/"+a.image_url:a.image_url;t.push(s.a.createElement(g.Link,{style:{marginLeft:"-5px"},to:"/post/detail/"+a.post_id,key:n,target:"_blank"},s.a.createElement(C.a,{value:"/post/detail/"+a.post_id,onClick:e.reloadPage},s.a.createElement(j.a,null,s.a.createElement(I.a,{src:l,className:e.props.styles.collected_post_img})),s.a.createElement(j.a,null,s.a.createElement(y.a,null,s.a.createElement(C.a,null,a.title),s.a.createElement(C.a,null,a.description),s.a.createElement(C.a,null,a.name))))))})),this.state.loaded_data?t.length>0?s.a.createElement("div",{className:this.props.styles.dropdown},s.a.createElement("div",{className:this.props.styles.dropbtn},"Collection"),s.a.createElement(y.a,{className:this.props.styles.dropdown_content,style:{height:"295px"}},t),s.a.createElement("div",{className:this.props.styles.dropdown_content+" "+this.props.styles.dropdown_content_btn},"Check All")):s.a.createElement("div",{className:this.props.styles.dropdown},s.a.createElement("div",{className:this.props.styles.dropbtn},"Collection"),s.a.createElement(y.a,{className:this.props.styles.dropdown_content},"No Collection")):s.a.createElement("div",{className:this.props.styles.dropdown},s.a.createElement("div",{className:this.props.styles.dropbtn},"Collection"),s.a.createElement("div",{className:this.props.styles.dropdown_content},s.a.createElement("div",null,"loading...")))}}]),t}(n.Component);d.a.defaults.withCredentials=!0;var q=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(i.a)(this,Object(c.a)(t).call(this,e));var n=localStorage.getItem("user");return null!=n&&void 0!=n&&""!=n&&(n=JSON.parse(n)),a.state={userInfo:null==n?"":n,update_nav:!1},a.logoutUser=a.logoutUser.bind(Object(p.a)(a)),a.auth_user_profile=a.auth_user_profile.bind(Object(p.a)(a)),a.update_nav_fun=a.update_nav_fun.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"update_nav_fun",value:function(){this.setState({update_nav:!this.state.update_nav})}},{key:"auth_user_profile",value:function(e){var t=e.target.getAttribute("name");window.location.assign(t)}},{key:"logoutUser",value:function(e){var t=this;d.a.get(this.props.apiUrl+"/api/auth/logout",{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),t.setState({loginError:"",userInfo:""}),localStorage.removeItem("user"),window.location.assign("/")})).catch((function(e){console.log("ERRRR:: ",e),localStorage.setItem("user","")}))}},{key:"render",value:function(){var e=this;return s.a.createElement(g.HashRouter,{hashType:"noslash"},s.a.createElement(h.a,{bg:"light",expand:"sm"},s.a.createElement(h.a.Brand,null,s.a.createElement(v.LinkContainer,{to:"/"},s.a.createElement(_.a,{className:this.props.styles.nav_button},"Presentation-Plus"))),s.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},""!==this.state.userInfo?s.a.createElement(E.a,{className:"ml-auto"},s.a.createElement(v.LinkContainer,{to:"/profile/detail/"+this.state.userInfo.id},s.a.createElement(_.a,{className:this.props.styles.nav_button+" mr-3"},this.state.userInfo.name)),s.a.createElement(_.a,{className:"mr-3"},s.a.createElement(Y,{styles:this.props.styles,update_nav:this.state.update_nav,apiUrl:this.props.apiUrl})),s.a.createElement(_.a,{onClick:this.logoutUser,className:this.props.styles.nav_button},"Logout")):s.a.createElement(E.a,{className:"ml-auto"},s.a.createElement(v.LinkContainer,{to:"/register",className:this.props.styles.nav_button+" mr-3"},s.a.createElement(_.a,null,"Register")),s.a.createElement(v.LinkContainer,{to:"/login",className:this.props.styles.nav_button+" mr-3"},s.a.createElement(_.a,null,"Login"))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(f.g,null,s.a.createElement(f.d,{exact:!0,path:"/",render:function(t){return s.a.createElement(S,{urlInfo:t,styles:e.props.styles,apiUrl:e.props.apiUrl})}}),s.a.createElement(f.d,{exact:!0,path:"/login",render:function(t){return s.a.createElement(N,{urlInfo:t,styles:e.props.styles,apiUrl:e.props.apiUrl})}}),s.a.createElement(f.d,{exact:!0,path:"/register",render:function(t){return s.a.createElement(O,{urlInfo:t,styles:e.props.styles,apiUrl:e.props.apiUrl})}}),s.a.createElement(f.d,{exact:!0,path:"/post/detail/:id",render:function(t){return s.a.createElement(D,{urlInfo:t,styles:e.props.styles,update_nav_fun:e.update_nav_fun,apiUrl:e.props.apiUrl})}}),s.a.createElement(f.d,{exact:!0,path:"/post/create",render:function(t){return s.a.createElement(z,{urlInfo:t,styles:e.props.styles,apiUrl:e.props.apiUrl})}}),s.a.createElement(f.d,{exact:!0,path:"/post/edit/:id",render:function(t){return s.a.createElement(H,{urlInfo:t,styles:e.props.styles,apiUrl:e.props.apiUrl})}}),s.a.createElement(f.d,{exact:!0,path:"/profile/detail/:id",render:function(t){return s.a.createElement(V,{urlInfo:t,styles:e.props.styles,apiUrl:e.props.apiUrl})}}),s.a.createElement(f.d,{exact:!0,path:"/profile/edit",render:function(t){return s.a.createElement(J,{urlInfo:t,styles:e.props.styles,user:e.state.userInfo,apiUrl:e.props.apiUrl})}}),s.a.createElement(f.c,{to:"/"})))}}]),t}(n.Component),X="http://69.203.92.72:8089",W=function(e){function t(e){return Object(r.a)(this,t),Object(i.a)(this,Object(c.a)(t).call(this,e))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log(X),s.a.createElement("div",null,s.a.createElement(q,{styles:this.props.styles,apiUrl:X}))}}]),t}(n.Component),Z=a(132),K=a.n(Z);Object(l.render)(s.a.createElement(W,{styles:K.a}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.909074ba.chunk.js.map